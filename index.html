<!--Saharsh Patel #200520843-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Lab 2 | COMP1073 Client-Side JavaScript</title>
    <link href="./css/style.css" rel="stylesheet" />
</head>

<body>
    <h1>Lab 2</h1>
    <p>
        This script will enable the user to adjust the below range input
        elements to modify the <abbr title="Red, Green, Blue">RGB</abbr> values of the
        <code>background-color</code> CSS property of the HTML element.
    </p>
    <label for="red">Red</label>
    <input id="red" type="range" min="0" max="255" value="0" />
    <label for="green">Green</label>
    <input id="green" type="range" min="0" max="255" value="0" />
    <label for="blue">Blue</label>
    <input id="blue" type="range" min="0" max="255" value="0" />

    <script>
        /* Declare and initialize global variables */
        var b = document.querySelector("html"); // Background element
        var s = document.getElementsByTagName("input"); // Sliders
        var r = [0, 0, 0]; // RGB values
        
        /* Event handlers for range sliders */
        for (var i = 0; i < s.length; i++) {
            s[i].onchange = function () {
                var id = this.getAttribute("id");
                var v = this.value;
                var u = c(id, v); // Update RGB
                var css = w(u); // CSS color string
                b.style.backgroundColor = css;
            };
        }
        
        function c(a, v) { // Change RGB
            v = parseInt(v);
            switch (a) {
                case 'red': r[0] = v; break;
                case 'green': r[1] = v; break;
                case 'blue': r[2] = v; break;
                default: console.log("Unknown channel: " + a);
            }
            return r;
        }
        
        function w(u) { // Write CSS
            var css = 'rgb(' + u.join(',') + ')';
            return css;
        }
    </script>
</body>

</html>
